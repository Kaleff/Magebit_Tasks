<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta charset="UTF-8">
    <title>Pineapple</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/fontello.css">
    <script>
        var checkboxCond = false;
        var emailValid = false;
        function EmailReplacer() {
            document.getElementById("email").setAttribute("style", "margin-right: 15px")
            document.getElementById("email").innerHTML = "e-mail  |";
            document.getElementById("input").setAttribute("style","border-color: #4066A5");
        }
        function EmailReplacer2() {
            document.getElementById("email2").setAttribute("style", "margin-right: 15px; width:60px;")
            document.getElementById("email2").innerHTML = "e-mail  |";
            document.getElementById("input2").setAttribute("style","border-color: #4066A5");
        }
        function EmailChecker(email) {
            if (email == "") {
                document.getElementById("errors").innerHTML = "Email address is required";
                document.getElementById("errors2").innerHTML = "Email address is required";
                emailValid = false;
                document.getElementById("submButton").disabled = true;
                document.getElementById("submButton2").disabled = true;
            }
            else if (!checkboxCond) {
                document.getElementById("errors").innerHTML = "You must accept the terms and conditions";
                document.getElementById("errors2").innerHTML = "You must accept the terms and conditions";
                document.getElementById("submButton").disabled = true;
                document.getElementById("submButton2").disabled = true;
                if (emailValidation(email)) {
                    document.getElementById("errors").innerHTML = "You must accept the terms and conditions";
                    document.getElementById("errors2").innerHTML = "You must accept the terms and conditions";
                    emailValid = true;
                }
            } else if (email.slice(email.length - 2) == "co" && emailValidation(email)) {
                document.getElementById("errors").innerHTML = "We don't accept the e-mails from Columbia";
                document.getElementById("errors2").innerHTML = "We don't accept the e-mails from Columbia";
                emailValid = false;
                document.getElementById("submButton").disabled = true;
                document.getElementById("submButton2").disabled = true;
            } else if (emailValidation(email)) {
                document.getElementById("errors").innerHTML = "";
                document.getElementById("errors2").innerHTML = "";
                emailValid = true;
                document.getElementById("submButton").disabled = false;
                document.getElementById("submButton2").disabled = false;
            }
        }
        function emailValidation(email) {
            let mailFormat = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;
            if(email.match(mailFormat)) {
                return true;
            }
            else {
                return false;
            }
        }
        function checkboxSwitch() {
            if(!checkboxCond) {
                document.getElementById("checkBoxRect").
                setAttribute("style","fill:#4066A5;stroke:#4066A5;stroke-width: 1;");
                document.getElementById("checkBoxRect2").
                setAttribute("style","fill:#4066A5;stroke:#4066A5;stroke-width: 1;");
                document.getElementById("checkboxCheck").
                setAttribute("style","color:#FFFFFF; font-size:11;");
                document.getElementById("checkboxCheck2").
                setAttribute("style","color:#FFFFFF; font-size:11;");
                checkboxCond = true;

                if(emailValid) {
                    document.getElementById("errors").innerHTML = "";
                    document.getElementById("errors2").innerHTML = "";
                    document.getElementById("submButton").disabled = false;
                    document.getElementById("submButton2").disabled = false;
                }
                else {
                    document.getElementById("errors").innerHTML = "Please enter a valid e-mail"
                    document.getElementById("errors2").innerHTML = "Please enter a valid e-mail"
                }
            }
            else {
                document.getElementById("checkBoxRect").
                setAttribute("style", "fill:#FFFFFF;stroke:#E3E3E4;stroke-width: 1;");
                document.getElementById("checkBoxRect2").
                setAttribute("style", "fill:#FFFFFF;stroke:#E3E3E4;stroke-width: 1;");
                document.getElementById("checkboxCheck").
                setAttribute("style","color:#FFFFFF; font-size:0;");
                document.getElementById("checkboxCheck2").
                setAttribute("style","color:#FFFFFF; font-size:0;");
                checkboxCond = false;
                document.getElementById("errors").innerHTML = "You must accept terms and conditions"
                document.getElementById("errors2").innerHTML = "You must accept terms and conditions"
            }
        }
        function transformPage() {
            document.getElementById("prize").setAttribute("src","static/Union.svg");
            document.getElementById("prize").setAttribute("style","margin-top:135px; margin-bottom:30px; margin-left:140px");
            document.getElementById("prize2").setAttribute("src","static/Union.svg");
            document.getElementById("prize2").setAttribute("style","margin-left:5%;");
            document.getElementById("subBlock").setAttribute("style", "height:300px");
            document.getElementById("inputElement").remove();
            document.getElementById("tos").remove();
            document.getElementById("inputElement2").remove();
            document.getElementById("tos2").remove();
            document.getElementById("heading1").innerHTML = "Thanks for subscribing!";
            document.getElementById("heading1").setAttribute("style","margin-top:0px");
            document.getElementById("subheading1").setAttribute("style","margin-top:20px;");
            document.getElementById("heading2").innerHTML = "Thanks for subscribing!";
            document.getElementById("subheading1").
                innerHTML = "You have successfully subscribed to our email listing. Check your email for the discount code";
            document.getElementById("subheading2").
                innerHTML = "You have successfully subscribed to our email listing. Check your email for the discount code";
        }
    </script>
</head>
<body>
    <div class="desktop">
        <div class="base">
            <div class="header" id="topBar">
                <div class ="logo">
                    <img src="static/logo_pineapple.svg" alt="Logo" class="logoImg">
                    <img src="static/pineapple.svg" alt="pineapple" class="logoTxt">
                </div>
                <div class ="links">
                    <a href="#"><span class="link">About</span></a>
                    <a href="#"><span class="link">How it works</span></a>
                    <a href="#"><span class="link">Contact</span></a>
                </div>
            </div>
            <img src="" id="prize">
            <div class="heading" id="heading1">
                <p>Subscribe to newsletter</p>
            </div>
            <div class="subheading" id="subheading1">
                <p>Subscribe to our newsletter and get 10% discount on pineapple glasses</p>
            </div>
            <form id="emailForm" action="">
            <div class="input" id="inputElement">
                <span></span>
                <div class="inputL" id="input">
                    <p id="email"></p>
                    <input onfocus="EmailReplacer()" onchange="EmailChecker(this.value)" class="inputForm" type="text"
                           placeholder="Type your email address here..." id="new-email"/>
                    <div class="buttonBox">
                        <div class="buttonIcon">
                            <button class="submitButton" onclick="transformPage()" id="submButton" disabled>
                                <i class="icon-arrow"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <p id="errors"></p>
            <div class="TOS" id="tos">
                <svg height="26" width="26" class="checkbox" onclick="checkboxSwitch()">
                <rect x="0" y="0" rx="7" ry="7" width="26" height="26" id="checkBoxRect"/>
                    <foreignObject height="26" width="26" x="4" y="7">
                        <div id="checkboxCheck" class="checkboxCheck"><i class="icon-check"></i></div>
                    </foreignObject>
                </svg>
                <div class="TOS_text">
                    I agree to <a href="#">terms of service</a>
                </div>
            </div>
            </form>
            <span class="Line"></span>
            <div class="icons">
                <a href="#" >
                    <svg class="fbCircle" width="46" height="46">
                        <circle r="22" cx="23" cy="23"/>
                        <foreignObject x="12" y="14" height="20" width="20">
                            <div class="circleFbIcon"><i class="icon-fb"></i></div>
                        </foreignObject>
                    </svg>
                </a>
                <a href="#">
                    <svg class="instCircle" width="46" height="46">
                        <circle r="22" cx="23" cy="23"/>
                        <foreignObject x="12" y="14" height="20" width="20">
                            <div class="circleInstIcon"><i class="icon-inst"></i></div>
                        </foreignObject>
                    </svg>
                </a>
                <a href="#">
                    <svg class="twCircle" width="46" height="46">
                        <circle r="22" cx="23" cy="23"/>
                        <foreignObject x="12" y="16" height="20" width="20">
                            <div class="circleTwIcon"><i class="icon-tw"></i></div>
                        </foreignObject>
                    </svg>
                </a>
                <a href="#">
                    <svg class="ytCircle" width="46" height="46">
                        <circle r="22" cx="23" cy="23"/>
                        <foreignObject x="13" y="16" height="20" width="20">
                            <div class="circleYtIcon"><i class="icon-yt"></i></div>
                        </foreignObject>
                    </svg>
                </a>
            </div>
        </div>
        <div class="pageBackground">
        </div>
    </div>
    <div class="mobile">
        <div class="mHeader">
            <div class ="logo">
                <img src="static/logo_pineapple.svg" alt="Logo" class="logoImg">
            </div>
            <div class ="mLinks">
                <a href="#"><span class="mLink">About</span></a>
                <a href="#"><span class="mLink">How it works</span></a>
                <a href="#"><span class="mLink">Contact</span></a>
            </div>
        </div>
        <div class="mPageBackground">
            <div class="subBlock" id="subBlock">
                <img src="" id="prize2">
                <div class="mHeading" id="heading2">
                    Subscribe to newsletter
                </div>
                <div class="mSubHeading" id="subheading2">
                    Subscribe to our newsletter and get 10% discount on pineapple glasses.
                </div>
                <form>
                <div class="group" id="inputElement2">
                    <span></span>
                    <div class="mInput" id="input2">
                        <p id="email2"></p>
                        <input onfocus="EmailReplacer2()" onchange="EmailChecker(this.value)"
                               class="inputForm" type="text" placeholder="Type your email address here..."/>
                            <div class="mButtonIcon">
                                <button type="submit" id="submButton2" disabled onclick="transformPage()"><i class="icon-arrow"></i></button>
                            </div>
                    </div>
                </div>
                </form>
                <p id="errors2"></p>
                <div class="TOS" id="tos2">
                    <svg height="26" width="26" class="checkbox" onclick="checkboxSwitch()">
                        <rect x="0" y="0" rx="7" ry="7" width="26" height="26" id="checkBoxRect2"/>
                        <foreignObject height="26" width="26" x="4" y="7">
                            <div id="checkboxCheck2" class="checkboxCheck"><i class="icon-check"></i></div>
                        </foreignObject>
                    </svg>
                    <div class="TOS_text">
                        I agree to <a href="#">terms of service</a>
                    </div>
                </div>
                <span class="Line" id="divLine"></span>
                <div class="icons">
                    <a href="#" >
                        <svg class="fbCircle" width="46" height="46">
                            <circle r="22" cx="23" cy="23"/>
                            <foreignObject x="12" y="14" height="20" width="20">
                                <div class="circleFbIcon"><i class="icon-fb"></i></div>
                            </foreignObject>
                        </svg>
                    </a>
                    <a href="#">
                        <svg class="instCircle" width="46" height="46">
                            <circle r="22" cx="23" cy="23"/>
                            <foreignObject x="12" y="14" height="20" width="20">
                                <div class="circleInstIcon"><i class="icon-inst"></i></div>
                            </foreignObject>
                        </svg>
                    </a>
                    <a href="#">
                        <svg class="twCircle" width="46" height="46">
                            <circle r="22" cx="23" cy="23"/>
                            <foreignObject x="12" y="16" height="20" width="20">
                                <div class="circleTwIcon"><i class="icon-tw"></i></div>
                            </foreignObject>
                        </svg>
                    </a>
                    <a href="#">
                        <svg class="ytCircle" width="46" height="46">
                            <circle r="22" cx="23" cy="23"/>
                            <foreignObject x="13" y="16" height="20" width="20">
                                <div class="circleYtIcon"><i class="icon-yt"></i></div>
                            </foreignObject>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </div>
</body>
</html>